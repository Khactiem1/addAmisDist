{"version":3,"file":"js/645.879c19a7.js","mappings":"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","sources":["webpack://quanlynhanvien-amis-ketoan/./src/api/commodityGroup.js","webpack://quanlynhanvien-amis-ketoan/./src/utils/event/eventFormCtrlShiftS.js","webpack://quanlynhanvien-amis-ketoan/./src/utils/notification.js","webpack://quanlynhanvien-amis-ketoan/./src/utils/validate.js","webpack://quanlynhanvien-amis-ketoan/./src/components/InputComponents/BaseInput.vue","webpack://quanlynhanvien-amis-ketoan/./src/components/InputComponents/BaseInput.vue?01c7","webpack://quanlynhanvien-amis-ketoan/./src/view/WarehouseView/DIInventoryItemCategory/FormInventoryItemCategory.vue","webpack://quanlynhanvien-amis-ketoan/./src/view/WarehouseView/DIInventoryItemCategory/FormInventoryItemCategory.vue?0651"],"sourcesContent":["import axiosAPI from \".\";\r\n/**\r\n * Lấy ra tất cả bản ghi\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst getAllRecordList = () => {\r\n  return axiosAPI.get(`/CommodityGroups`);\r\n};\r\n\r\n/**\r\n * API lấy tất cả danh sách bản ghi tìm kiếm và phân trang\r\n * @returns Danh sách bản ghi và tổng số lượng\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst getRecordList = (filter) => {\r\n  return axiosAPI.post(`/CommodityGroups/fitter`, filter);\r\n};\r\n\r\n/**\r\n * API thêm bản ghi\r\n * @returns Guid bản ghi\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst createRecordApi = (employee) => {\r\n  return axiosAPI.post(`/CommodityGroups`, employee)\r\n};\r\n\r\n/**\r\n * API lấy chi tiết bản ghi theo id\r\n * @returns Chi tiết bản ghi\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst getRecordApi = (id) => {\r\n  return axiosAPI.get(`/CommodityGroups/${id}`);\r\n};\r\n\r\n/**\r\n * API Sửa bản ghi\r\n * @returns Guid bản ghi\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst editRecordApi = (employee) => {\r\n  return axiosAPI.put(`/CommodityGroups/${employee.commodityGroupID}`, employee);\r\n};\r\n\r\n/**\r\n * API xoá bản ghi\r\n * @returns Guid bản ghi\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst deleteRecordApi = (id) => {\r\n  return axiosAPI.delete(`/CommodityGroups/${id}`)\r\n};\r\n\r\n/**\r\n * API export data \r\n * @returns file bản ghi excel\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\nconst exportDataApi = () => {\r\n  return axiosAPI.get(`/CommodityGroups/export_data`);\r\n};\r\n\r\n/**\r\n * API Active toggle sử dụng\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\n const toggleActiveApi = (id) => {\r\n  return axiosAPI.get(`/CommodityGroups/ToggleActive/${id}`);\r\n};\r\n\r\n/**\r\n * Lấy ra tất cả bản ghi đang hoạt động\r\n * Khắc Tiềm - 15.09.2022\r\n */\r\n const getAllRecordListActive = () => {\r\n  return axiosAPI.get(`/CommodityGroups/active`);\r\n};\r\nexport default {\r\n  exportDataApi,\r\n  deleteRecordApi,\r\n  editRecordApi,\r\n  getRecordList,\r\n  createRecordApi,\r\n  getRecordApi,\r\n  getAllRecordList,\r\n  toggleActiveApi,\r\n  getAllRecordListActive,\r\n}","import eNum from \"../../utils/eNum\";\r\n/**\r\n     * Lấy ra các enum gồm mã phím và mã lỗi có thể nhận được khi call api\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n const { CTRL, SHIFT, ESC, S } = eNum;\r\n/**\r\n     * lưu lại giá trị các phím bấm tắt không ngắt quãng\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n const eventCtrlShiftS = [];\r\n\r\n /**\r\n  * Hàm xử lý các event nút bấm tắt\r\n  * NK Tiềm 28/10/2022\r\n  */\r\n const handleEventFormCtrlShiftS = function (event, handleEsc, dataEsc, handleCtrlShiftS, dataCtrlShiftS, handleCtrlS, dataCtrlS) {\r\n   if (event.keyCode === ESC) {\r\n    handleEsc(dataEsc);\r\n   } else if (\r\n     event.keyCode === CTRL ||\r\n     event.keyCode === SHIFT ||\r\n     event.keyCode === S\r\n   ) {\r\n     if (!eventCtrlShiftS.includes(event.keyCode)) {\r\n       eventCtrlShiftS.push(event.keyCode);\r\n       if (eventCtrlShiftS.length === 3) {\r\n         // Khi bấm đủ 3 phím sẽ kích hoạt hành động nhấn\r\n         eventCtrlShiftS.length = 0;\r\n         handleCtrlShiftS(dataCtrlShiftS);\r\n       } else if (eventCtrlShiftS.length === 2) {\r\n         // Nếu số lượng nút bấm mà === 2 trong đó k có nút shift thì sẽ là chức năng khác\r\n         if (!eventCtrlShiftS.includes(SHIFT)) {\r\n           //Không cho trình duyệt mở save as khi bấm ctrl + s\r\n           event.preventDefault(); \r\n           eventCtrlShiftS.length = 0;\r\n           handleCtrlS(dataCtrlS);\r\n         }\r\n       }\r\n     }\r\n   }\r\n };\r\n\r\n /**\r\n  * Hàm xử lý khi các phím tắt bấm bị ngắt quãng thì hành động sẽ k đc thực hiện\r\n  * NK Tiềm 28/10/2022\r\n  */\r\n const handleEventInterruptFormCtrlShiftS = function (event) {\r\n   if (\r\n     event.keyCode === CTRL ||\r\n     event.keyCode === SHIFT ||\r\n     event.keyCode === S\r\n   ) {\r\n     if (eventCtrlShiftS.includes(event.keyCode)) {\r\n       eventCtrlShiftS.length = 0;\r\n     }\r\n   }\r\n };\r\n export default {\r\n    handleEventFormCtrlShiftS,\r\n    handleEventInterruptFormCtrlShiftS,\r\n }","export default {\r\n  //Cảnh báo xoá nhân viên\r\n  WANNING_DELETE: \"Bạn có thực sự muốn xoá bản ghi \",\r\n\r\n  // Hỏi lưu khi có dữ liệu thay đổi\r\n  QUESTION_DATA_CHANGE: \"Dữ liệu đã bị thay đổi. Bạn có muốn cất không?\",\r\n\r\n  // thông báo khi dữ liệu bị để trống\r\n  ERROR_EMPTY_DATA: \"Không được để trống \",\r\n\r\n  // thông báo khi nhập sai định dạng\r\n  ERROR_CORRECT_DATA: \"Kiểm tra nhập đúng \",\r\n\r\n  // cảnh báo khi thực hiện xoá hàng loạt\r\n  WANNING_DELETE_ALL: \"Bạn có thực sự muốn xoá toàn bộ bản ghi được chọn?\",\r\n\r\n  // thông báo khi bị trùng mã\r\n  DUPLICATE_CODE : \"đã tồn tại trong hệ thống, vui lòng kiểm tra lại.\",\r\n\r\n  // thông báo khi nhập sai dữ liệu đầu vào\r\n  INVALID_INPUT : \"Sai dữ liệu đầu vào, vui lòng kiểm tra lại\",\r\n\r\n  // Thông báo dành cho các trường riêng khi validate thêm, sửa\r\n  employeeNotification:{\r\n    validateCode: 'Mã nhân viên không được để trống.',\r\n    validateName: 'Tên nhân viên không được để trống.',\r\n    validateUnit: 'Dữ liệu <đơn vị> không có trong danh mục.',\r\n    validatePhoneNumber: 'Không đúng định dạng số điện thoại di động.',\r\n    validateLandlinePhone: 'Không đúng định dạng số điện thoại cố định.',\r\n    validateEmail: 'Không đúng định dạng Email.',\r\n    validateDateOfBirth : 'Ngày sinh phải nhỏ hơn ngày hiện tại.',\r\n    validateDayForIdentity : 'Ngày cấp phải nhỏ hơn ngày hiện tại.',\r\n    nameDuplicateCode: 'Mã nhân viên',\r\n  },\r\n  unitCalculationNotification:{\r\n    validateName: 'Đơn vị không được để trống',\r\n  },\r\n  depotNotification:{\r\n    validateCode: 'Mã kho không được để trống',\r\n    validateName: 'Tên kho không được để trống',\r\n  },\r\n  commodityGroupNotification:{\r\n    validateCode: 'Mã nhóm nguyên vật liệu không được để trống',\r\n    validateName: 'Tên nhóm nguyên vật liệu không được để trống',\r\n  },\r\n  inventoryItemNotification:{\r\n    validateCode: 'Mã hàng hoá không được để trống.',\r\n    validateName: 'Tên không được để trống.',\r\n    validateUnit: 'Đơn vị không có trong danh mục.',\r\n  },\r\n};\r\n","export default {\r\n  /**\r\n   * Hàm xử lý kiểm tra định dạng email\r\n   * @param {Email cần validate} email \r\n   * @returns Trả về true là định dạng đúng và false là định dạng sai\r\n   * Khắc Tiềm - 15.09.2022\r\n   */\r\n  validateEmail: (email) => {\r\n    var regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/; //eslint-disable-line\r\n    return regex.test(email);\r\n  },\r\n\r\n  /**\r\n   * Hàm xử lý kiểm tra định dạng sdt\r\n   * @param {sdt cần validate} sdt \r\n   * @returns Trả về true là định dạng đúng và false là định dạng sai\r\n   * Khắc Tiềm - 15.09.2022\r\n   */\r\n  validatePhone: (sdt) => {\r\n    var regex = /(03|02|05|07|08|09|01[2|6|8|9])+([0-9]{8})\\b/; //eslint-disable-line\r\n    return regex.test(sdt);\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"data-input\" :class=\"{ 'is-valid': isValid | isValidEmailPhone }\">\r\n    <label :class=\"{ required: required }\">{{ label }}</label>\r\n    <span v-if=\"toolTip\" class=\"tool-tip\">\r\n      {{ toolTip }}\r\n    </span>\r\n    <input\r\n      :disabled=\"disabled\"\r\n      ref=\"tagInput\"\r\n      class=\"input\"\r\n      :type=\"type\"\r\n      v-model=\"valueHeader\"\r\n      :placeholder=\"placeholder\"\r\n      :tabindex=\"tab\"\r\n      @input=\"handleInput\"\r\n      @blur=\"handleCheckEmailPhone\"\r\n      :class=\"{'is-number' : isNumber}\"\r\n    />\r\n    <span class=\"message-valid\" :style=\"{left : leftMessage}\">{{ messageValid }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, toRefs, watch, onBeforeMount } from \"vue\";\r\nimport validate from \"../../utils/validate.js\";\r\nexport default {\r\n  props: [\r\n    \"modelValue\", // Giá trị v-model\r\n    \"maxLength\", // Max độ dài\r\n    \"placeholder\", // placeholder ô input\r\n    \"required\", // Bắt buộc hay không\r\n    \"type\", // Kiểu input\r\n    \"messageValid\", // Thông báo lỗi khi input không thoả mãm\r\n    \"label\", // Label hiển thị\r\n    \"focus\", // có được focus hay không\r\n    \"tab\", // tab index\r\n    \"toolTip\", // toolTip hiển thị\r\n    \"isPhone\", // Có là sdt không\r\n    \"isEmail\", // Có là email không\r\n    \"isNumber\", // có là số hay không\r\n    \"leftMessage\", // hiển thị message bên left\r\n    \"maxValue\", // max giá trị có thể nhập khi là số\r\n    \"disabled\", // vô hiệu hoá ô input\r\n  ],\r\n  emits: [\"update:modelValue\"],\r\n  setup(props, context) {\r\n    // <!-- @keypress=\"isInputNumber($event)\" -->\r\n    /**\r\n     * Element thẻ input\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    const tagInput = ref(null);\r\n\r\n    /**\r\n     * focus: có focus khi mounted\r\n     * required: có bắt buộc hay k\r\n     * isEmail: Là email hay k\r\n     * isPhone: là sdt hay k\r\n     * maxLength: độ dài max là value\r\n     * modelValue: v-model\r\n     * isNumber: là số hay k\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    const { focus, required, isEmail, isPhone, maxLength, modelValue, isNumber, maxValue } = toRefs(props);\r\n\r\n    /**\r\n     * Trạng thái hiển thị validate\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    const isValid = ref(false);\r\n\r\n    /**\r\n     * trạng thái hiển thị validate email, phone\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    const isValidEmailPhone = ref(false);\r\n\r\n    /**\r\n     * Lấy ra hàm validate email và phone\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    const { validateEmail, validatePhone } = validate;\r\n\r\n    /**\r\n     * Kiểm tra sự thay đổi của giá trị input và binding lên thẻ input\r\n     */\r\n    const valueHeader = ref('');\r\n    watch(modelValue, (newValue)=>{\r\n      if(isNumber.value){\r\n        valueHeader.value = Comma(newValue);\r\n      }\r\n      else{\r\n        valueHeader.value = newValue;\r\n      }\r\n    });\r\n    /**\r\n     * Binding giá trị lên thẻ input\r\n     */\r\n    onBeforeMount(()=>{\r\n      if(isNumber.value){\r\n        valueHeader.value = Comma(modelValue.value);\r\n      }\r\n      else{\r\n        valueHeader.value = modelValue.value;\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Sau khi được mounted vào dom thì nếu đc chỉ định focus ô input sẽ đc focus\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    onMounted(() => {\r\n      if (focus.value === true) {\r\n        setTimeout(() => {\r\n          tagInput.value.focus();\r\n        }, 150);\r\n      }\r\n    });\r\n\r\n    /**\r\n     * hàm xử lý nhập input và validate\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    function handleInput(event) {\r\n      if (maxLength.value && !isNumber.value) {\r\n        if (event.target.value.length <= maxLength.value) {\r\n          updateValue(event.target.value);\r\n          isValidEmailPhone.value = false;\r\n          if (required.value) {\r\n            if (event.target.value.trim() == \"\") {\r\n              isValid.value = true;\r\n            } else {\r\n              isValid.value = false;\r\n            }\r\n          }\r\n        }\r\n        else{\r\n          valueHeader.value = modelValue.value;\r\n        }\r\n      }\r\n      else if(isNumber.value){\r\n        const number = CommaToNumber(event.target.value);\r\n        if(checkNumber(number) || number === ''){\r\n          if((event.data === '.' || event.data === ',')){\r\n            valueHeader.value = Comma(modelValue.value) + ',';\r\n          }\r\n          else{\r\n            valueHeader.value = Comma(modelValue.value);\r\n            updateValue(number);\r\n          }\r\n        }\r\n        else{\r\n          valueHeader.value = Comma(modelValue.value);\r\n        }\r\n      }\r\n      else {\r\n        updateValue(event.target.value);\r\n        isValidEmailPhone.value = false;\r\n        if (required.value) {\r\n          if (event.target.value == \"\") {\r\n            isValid.value = true;\r\n          } else {\r\n            isValid.value = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hàm cập nhật giá trị\r\n     * @param {H} value \r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    function updateValue(value){\r\n      if(maxValue.value){\r\n        if(Number(value) <= maxValue.value){\r\n          context.emit(\"update:modelValue\", value);\r\n        }\r\n        else{\r\n          valueHeader.value = Comma(modelValue.value);\r\n        }\r\n      }\r\n      else{\r\n        context.emit(\"update:modelValue\", value);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hàm xử lý table với những cột cần thêm dấu phẩy vào đơn vị tiền tệ\r\n     * @param {Số cần format} number \r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    function Comma(number) {\r\n      if(number){\r\n        let intPart = Math.trunc(number); \r\n        const floatPart = Number((number - intPart).toFixed(2));\r\n        intPart = \"\" + intPart;\r\n        if (intPart.length > 3) {\r\n          var mod = intPart.length % 3;\r\n          var output = mod > 0 ? intPart.substring(0, mod) : \"\";\r\n          for (let i = 0; i < Math.floor(intPart.length / 3); i++) {\r\n            if (mod == 0 && i == 0)\r\n              output += intPart.substring(mod + 3 * i, mod + 3 * i + 3);\r\n            else output += \".\" + intPart.substring(mod + 3 * i, mod + 3 * i + 3);\r\n          }\r\n          return floatPart !== 0 ? output + ',' + (floatPart + '').slice( 2 ) : output;\r\n        } else return floatPart !== 0 ? intPart + ',' + (floatPart + '').slice( 2 ) : intPart;\r\n      }\r\n      else if(number === 0 || number === '0'){\r\n        return 0;\r\n      }\r\n      else return '';\r\n    }\r\n\r\n    function CommaToNumber(number){\r\n      const ToNumber = number.replace(/\\./g,'').replace(/,/g, '.');\r\n      return ToNumber ? ToNumber : '';\r\n    }\r\n    /**\r\n     * hàm xử lý validate điện thoại và email\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    function handleCheckEmailPhone(event) {\r\n      if (event.target.value != \"\") {\r\n        if (isEmail.value) {\r\n          if (validateEmail(event.target.value) === false) {\r\n            isValidEmailPhone.value = true;\r\n          } else {\r\n            isValidEmailPhone.value = false;\r\n          }\r\n        } else if (isPhone.value) {\r\n          if (validatePhone(event.target.value) === false) {\r\n            isValidEmailPhone.value = true;\r\n          } else {\r\n            isValidEmailPhone.value = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hàm xử lý chỉ cho nhập số\r\n     * Khắc Tiềm - 15.09.2022\r\n     */\r\n    // function isInputNumber(evt) {\r\n    //   if(isNumber.value){\r\n    //     evt = (evt) ? evt : window.event;\r\n    //     var charCode = (evt.which) ? evt.which : evt.keyCode;\r\n    //     if ((charCode > 31 && (charCode < 48 || charCode > 57)) && charCode !== 46) {\r\n    //       evt.preventDefault();\r\n    //     } else {\r\n    //       return true;\r\n    //     }\r\n    //   }\r\n    // }\r\n    function checkNumber(n) { return !isNaN(parseFloat(n)) && !isNaN(n - 0) }\r\n    return {\r\n      tagInput,\r\n      isValid,\r\n      valueHeader,\r\n      isValidEmailPhone,\r\n      handleCheckEmailPhone,\r\n      handleInput,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.data-input {\r\n  position: relative;\r\n}\r\n.tool-tip {\r\n  position: absolute;\r\n  left: 18px;\r\n  background-color: #505050;\r\n  border-radius: 3px;\r\n  padding: 2px 4px;\r\n  z-index: 3;\r\n  text-align: center;\r\n  visibility: hidden;\r\n  opacity: 0;\r\n  color: var(--while__color);\r\n  white-space: nowrap;\r\n}\r\n.data-input label:hover ~ .tool-tip {\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.is-number{\r\n  text-align: right;\r\n}\r\n.input:disabled{\r\n  background-color: #EFF0F2;\r\n}\r\n</style>\r\n","import { render } from \"./BaseInput.vue?vue&type=template&id=1cdfbf0a\"\nimport script from \"./BaseInput.vue?vue&type=script&lang=js\"\nexport * from \"./BaseInput.vue?vue&type=script&lang=js\"\n\nimport \"./BaseInput.vue?vue&type=style&index=0&id=1cdfbf0a&lang=css\"\n\nimport exportComponent from \"D:\\\\Data\\\\Bài tập CTM Misa\\\\quanlynhanvien-amis-ketoan\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal-body\">\r\n    <div class=\"form\">\r\n      <div class=\"form-header\">\r\n        <div class=\"modal-title\">\r\n          <h2>{{ titleForm }}</h2>\r\n        </div>\r\n        <div class=\"modal-close\">\r\n          <div class=\"modal-icon modal-icon_help\"></div>\r\n          <div\r\n            @click=\"handleCloseModal(false)\"\r\n            class=\"modal-icon modal-icon_close\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-container\">\r\n        <div class=\"form-item_input\">\r\n        <div class=\"form-group ms-small\">\r\n          <input-default\r\n            :focus=\"true\"\r\n            :required=\"true\"\r\n            :type=\"'text'\"\r\n            :maxLength=\"25\"\r\n            :messageValid=\"commodityGroupNotification.validateCode\"\r\n            :label=\"'Mã'\"\r\n            :class=\"{ 'is-valid': isValid && commodityGroup.commodityCode == '' }\"\r\n            v-model=\"commodityGroup.commodityCode\"\r\n            ref=\"inputFocus\"\r\n          ></input-default>\r\n        </div>\r\n            <div class=\"form-group ms-big\">\r\n              <input-default\r\n                :required=\"true\"\r\n                :type=\"'text'\"\r\n                :maxLength=\"80\"\r\n                :messageValid=\"commodityGroupNotification.validateName\"\r\n                :label=\"'Tên'\"\r\n                :class=\"{ 'is-valid': isValid && commodityGroup.commodityName == '' }\"\r\n                v-model=\"commodityGroup.commodityName\"\r\n              ></input-default>\r\n            </div>\r\n          </div>\r\n        <div class=\"form-group\">\r\n          <base-combobox\r\n            widthLabelCode=\"150px\"\r\n            :options=\"optionCommodityGroup\"\r\n            :value=\"'commodityGroupID'\"\r\n            :header=\"'commodityName'\"\r\n            :label=\"'Thuộc'\"\r\n            :labelCode=\"'Mã nhóm'\"\r\n            :labelName=\"'Tên nhóm'\"\r\n            :headerCode = \"'commodityCode'\"\r\n            v-model=\"commodityGroup.parentID\"\r\n          ></base-combobox>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-action\">\r\n        <div class=\"form-action_container\">\r\n          <div class=\"form-action_item\">\r\n            <button\r\n              @click=\"handleSaveData(true)\"\r\n              style=\"margin-right: 9px\"\r\n              class=\"btn modal-icon btn-form_cat\"\r\n            >\r\n              Cất\r\n            </button>\r\n            <button\r\n              @click=\"handleSaveData(false)\"\r\n              class=\"btn btn-success modal-icon btn-form_cat-them\"\r\n            >\r\n              Cất và thêm\r\n            </button>\r\n          </div>\r\n          <div class=\"form-action_item\">\r\n            <button @click=\"handleCloseModal(true)\" class=\"btn\">\r\n              Huỷ\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button ref=\"focusLoop\" class=\"focus-loop\"></button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, onUnmounted, ref, toRefs, onBeforeMount } from \"vue\";\r\nimport InputDefault from \"../../../components/InputComponents/BaseInput.vue\";\r\nimport BaseCombobox from \"../../../components/InputComponents/BaseCombobox.vue\";\r\nimport { useStore } from \"vuex\";\r\nimport eNum from \"../../../utils/eNum.js\";\r\nimport notificationMessage from \"../../../utils/notification.js\";\r\nimport eventFormCtrlShiftS from '../../../utils/event/eventFormCtrlShiftS';\r\nimport callApi from '../../../api/callApi';\r\nimport apiCommodityGroup from \"../../../api/commodityGroup\";\r\nimport index from '../../../utils/index';\r\nexport default {\r\n  components: {\r\n    InputDefault,\r\n    BaseCombobox,\r\n  },\r\n  props: {\r\n    recordEdit: {\r\n      type: Object,\r\n    },\r\n    recordAdd: {\r\n      type: Object,\r\n    },\r\n  },\r\n  setup(props, context) {\r\n    const { createRecordApi, editRecordApi, getAllRecordList, getRecordList } = apiCommodityGroup;\r\n    /**\r\n     * Biến chứa nội dung title from thêm mới, sửa\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const titleForm = ref(\"\");\r\n\r\n    /**\r\n     * Lấy ra các thông báo khi hiện thông báo\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const { QUESTION_DATA_CHANGE, commodityGroupNotification, } = notificationMessage;\r\n    \r\n    /**\r\n     * Element input focus vào khi mở from\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const inputFocus = ref(null);\r\n\r\n    /**\r\n     * Element chứa vị trí tab đến sẽ quay lại tab ban đầu tạo thành vòng lặp\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const focusLoop = ref(null); \r\n\r\n    /**\r\n     * Lưu trạng thái from đang thêm hay đang sửa\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const stateAdd = ref(true); \r\n\r\n    /**\r\n     * Lấy ra record sửa và nhân bản truyền qua từ props\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const { recordEdit, recordAdd } = toRefs(props);\r\n\r\n    /**\r\n     * Lưu trạng thái hiển thị validate\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const isValid = ref(false);\r\n\r\n    /**\r\n     * Biến store vuex\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const store = useStore();\r\n\r\n    /**\r\n     * Lấy ra các enum gồm mã phím và mã lỗi có thể nhận được khi call api\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const { TypeSuccess, MessageSuccessAdd, MessageSuccessEdit, AddFormCommodityGroup, EditFormCommodityGroup, } = eNum;\r\n\r\n    /**\r\n     * Biến record v-model và gửi lên sever khi thêm sửa xoá\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const commodityGroup = ref({\r\n      commodityCode: \"\",\r\n      commodityName: \"\",\r\n      parentID: \"0\",\r\n      isActive: true,\r\n    });\r\n\r\n    /**\r\n     * thông tin record sửa nếu form sửa thì sẽ nhận được thông tin cần sửa\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const recordEditReset = ref(null);\r\n\r\n    /**\r\n     * Thông tin nhân viên cần reset về rỗng khi ở lại from thêm tiếp không đóng from\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const commodityGroupReset = ref({\r\n      commodityCode: \"\",\r\n      commodityName: \"\",\r\n      parentID: \"0\",\r\n      isActive: true,\r\n    });\r\n\r\n    const optionCommodityGroup = ref([]);\r\n\r\n    /**\r\n     * Thực hiện chuyển đổi props thành data trước khi mounted\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const { listToTree } = index;\r\n    onBeforeMount(async () => {\r\n      await callApi(getAllRecordList, null, async (response) => { optionCommodityGroup.value = listToTree(response, \"commodityGroupID\"); }, store, true);\r\n      titleForm.value = AddFormCommodityGroup;\r\n      if (recordEdit.value) {\r\n        titleForm.value = EditFormCommodityGroup;\r\n        commodityGroup.value = { ...recordEdit.value }; \r\n        stateAdd.value = false;\r\n        recordEditReset.value = { ...recordEdit.value };\r\n      } else {\r\n        titleForm.value = AddFormCommodityGroup;\r\n        if (recordAdd.value) {\r\n          commodityGroup.value = { ...recordAdd.value };\r\n        }\r\n      }\r\n    });\r\n    \r\n    /**\r\n     * Hàm xử lý lặp khi tab focus\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const handleLoopFocus = function () {\r\n      inputFocus.value.tagInput.focus();\r\n    };\r\n\r\n    const { handleEventFormCtrlShiftS, handleEventInterruptFormCtrlShiftS } = eventFormCtrlShiftS;\r\n\r\n    /**\r\n     * Hàm xử lý các event nút bấm tắt\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function handleKey(event){\r\n      try {\r\n        handleEventFormCtrlShiftS(event, handleCloseModal, null, handleSaveData, false, handleSaveData, true)\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Khi mounted component thì sẽ lắng nghe sự kiện các phím tắt\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    onMounted(() => focusLoop.value.addEventListener(\"focus\", handleLoopFocus));\r\n    onMounted(() => window.addEventListener(\"keydown\", handleKey));\r\n    onMounted(() => window.addEventListener(\"keyup\", handleEventInterruptFormCtrlShiftS));\r\n\r\n    /**\r\n     * Khi unMounted thì sẽ xoá bỏ các sự kiện khỏi bộ nhớ\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    onUnmounted(() => window.removeEventListener(\"focus\", handleLoopFocus));\r\n    onUnmounted(() => window.removeEventListener(\"keydown\", handleKey));\r\n    onUnmounted(() => window.removeEventListener(\"keyup\", handleEventInterruptFormCtrlShiftS));\r\n\r\n    /**\r\n     * Hàm xử lý validate các trường\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function validateInput() {\r\n      return [\r\n        // Validate code\r\n        commodityGroup.value.commodityCode.trim() === \"\" ? commodityGroupNotification.validateCode : null,\r\n        commodityGroup.value.commodityName.trim() === \"\" ? commodityGroupNotification.validateName : null,\r\n      ].filter((item) => {\r\n        if(item){\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Biến lưu trạng thái khi call api lỗi hay không lỗi\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    const errorApi = ref(false);\r\n\r\n    /**\r\n     * Hàm xử lý call api\r\n     * NK Tiềm 28/10/2022\r\n     * @param {api truyền vào thêm hoặc sửa} Api \r\n     */\r\n    async function callApiForm(Api) {\r\n      if(!commodityGroup.value.parentID){\r\n        commodityGroup.value = {...commodityGroup.value, parentID: \"0\"};\r\n      }\r\n      await callApi(Api, { ...commodityGroup.value },async (response) => { \r\n        context.emit(\"handle-save-data-props\", { ...commodityGroup.value, commodityGroupID: response });\r\n        store.dispatch(\"config/addNotification\", {\r\n            type: TypeSuccess,\r\n            message: stateAdd.value ? MessageSuccessAdd : MessageSuccessEdit\r\n          });\r\n          errorApi.value = false;\r\n          const find = store.state.commodityGroup.filter;\r\n          await callApi(getAllRecordList, null, async (response) => { optionCommodityGroup.value = listToTree(response, \"commodityGroupID\"); }, store, true);\r\n          if(!stateAdd.value){\r\n            //sau khi sửa xong sửa trạng thái modal thành thêm user\r\n            stateAdd.value = true; \r\n            await callApi(getRecordList, find,async (response) => { store.dispatch(\"commodityGroup/getRecordListAction\", { recordList: listToTree(response.recordList, \"commodityGroupID\"), totalCount: response.totalCount })}, store, true);\r\n          }\r\n          else{\r\n            await callApi(getRecordList, find,async (response) => { store.dispatch(\"commodityGroup/getRecordListAction\", { recordList: listToTree(response.recordList, \"commodityGroupID\"), totalCount: response.totalCount })}, store, true);\r\n          }\r\n       }, store, false, () => {\r\n        errorApi.value = true;\r\n       });\r\n    }\r\n\r\n    /**\r\n     * Hàm xử lý sự kiện khi bấm nút save\r\n     * @param {Biến trạng thái có đóng modal hay là không} closeModal \r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    async function handleSaveData(closeModal) {\r\n      try {\r\n        const messValid = validateInput();\r\n        if (messValid.length > 0) {\r\n          isValid.value = true;\r\n          store.dispatch(\"config/setToggleShowNotificationErrorAction\", messValid);\r\n        } else {\r\n          if (stateAdd.value) {\r\n            // Trạng thái thêm thì sẽ truyền api thêm\r\n            await callApiForm(createRecordApi);\r\n          } else {\r\n            // Trạng thái sửa thì sẽ truyền api sửac\r\n            await callApiForm(editRecordApi);\r\n          }\r\n          if (closeModal === true && errorApi.value === false) {\r\n            context.emit(\"handle-click-close-modal\");\r\n          } else if (errorApi.value === false) {\r\n            titleForm.value = AddFormCommodityGroup;\r\n            isValid.value = false;\r\n            commodityGroup.value = { ...commodityGroupReset.value };\r\n            // Khi thêm xong nếu không đóng form thì sẽ focus vào ô input\r\n            inputFocus.value.tagInput.focus(); \r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hàm xử lý đóng thông báo và đóng modal\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function handleCloseNotificationAndCloseModal() {\r\n      try {\r\n        context.emit(\"handle-click-close-modal\");\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    //(Khắc Tiềm - 15.09.2022)  Hàm xử lý đóng thông báo và modal và thêm dữ liệu\r\n\r\n    /**\r\n     * Hàm đóng modal và lưu dữ liệu\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function handleSaveDataAndCloseNotificationAndCloseModal() {\r\n      handleSaveData(true);\r\n    }\r\n\r\n    /**\r\n     * Hàm xử lý đóng modal khi thực hiện nhấn nút đóng modal\r\n     * @param {Nếu nhấn vào nút huỷ thì sẽ đóng ngay ngược lại sẽ hỏi lưu} closeNow \r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function handleCloseModal(closeNow) {\r\n      try {\r\n        //Kiếm tra dữ liệu khi đóng form khác thì hỏi có lưu hay không\r\n        if (closeNow) {\r\n          context.emit(\"handle-click-close-modal\");\r\n        } else if (stateAdd.value) {\r\n          if (\r\n            JSON.stringify(commodityGroup.value) != JSON.stringify(commodityGroupReset.value)\r\n          ) {\r\n            saveDataWhenCloseModal();\r\n          } else {\r\n            context.emit(\"handle-click-close-modal\");\r\n          }\r\n        } else if (stateAdd.value === false) {\r\n          if (\r\n            JSON.stringify(commodityGroup.value) !=\r\n            JSON.stringify(recordEditReset.value)\r\n          ) {\r\n            saveDataWhenCloseModal();\r\n          } else {\r\n            context.emit(\"handle-click-close-modal\");\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hàm hiển thị thông báo khi nhấn đóng modal\r\n     * NK Tiềm 28/10/2022\r\n     */\r\n    function saveDataWhenCloseModal() {\r\n      store.dispatch(\"config/setToggleShowNotificationQuestionAction\", { action: handleSaveDataAndCloseNotificationAndCloseModal, refuseAction: handleCloseNotificationAndCloseModal, message: QUESTION_DATA_CHANGE});\r\n    }\r\n\r\n    return {\r\n      inputFocus,\r\n      commodityGroup,\r\n      commodityGroupNotification,\r\n      isValid,\r\n      optionCommodityGroup,\r\n      focusLoop,\r\n      titleForm,\r\n      handleCloseModal,\r\n      handleSaveData,\r\n    };\r\n  },\r\n  emits: [\"handle-click-close-modal\", \"handle-save-data-props\"],\r\n};\r\n</script>\r\n<style scoped>\r\n.modal-body {\r\n  max-width: 600px !important;\r\n  width: 600px !important;\r\n  left: calc(50vw - 300px) !important;\r\n  height: auto !important;\r\n  top: 50vh !important;\r\n  transform: translateY(-50%) !important;\r\n  padding: 0 !important;\r\n}\r\ntextarea{\r\n  resize: none;\r\n    display: block;\r\n    padding: 9px;\r\n    font-size: 13px;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./FormInventoryItemCategory.vue?vue&type=template&id=f2d1d18e&scoped=true\"\nimport script from \"./FormInventoryItemCategory.vue?vue&type=script&lang=js\"\nexport * from \"./FormInventoryItemCategory.vue?vue&type=script&lang=js\"\n\nimport \"./FormInventoryItemCategory.vue?vue&type=style&index=0&id=f2d1d18e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Data\\\\Bài tập CTM Misa\\\\quanlynhanvien-amis-ketoan\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f2d1d18e\"]])\n\nexport default __exports__"],"names":["getAllRecordList","axiosAPI","getRecordList","filter","createRecordApi","employee","getRecordApi","id","editRecordApi","commodityGroupID","deleteRecordApi","exportDataApi","toggleActiveApi","getAllRecordListActive","CTRL","SHIFT","ESC","S","eNum","eventCtrlShiftS","handleEventFormCtrlShiftS","event","handleEsc","dataEsc","handleCtrlShiftS","dataCtrlShiftS","handleCtrlS","dataCtrlS","keyCode","includes","push","length","preventDefault","handleEventInterruptFormCtrlShiftS","WANNING_DELETE","QUESTION_DATA_CHANGE","ERROR_EMPTY_DATA","ERROR_CORRECT_DATA","WANNING_DELETE_ALL","DUPLICATE_CODE","INVALID_INPUT","employeeNotification","validateCode","validateName","validateUnit","validatePhoneNumber","validateLandlinePhone","validateEmail","validateDateOfBirth","validateDayForIdentity","nameDuplicateCode","unitCalculationNotification","depotNotification","commodityGroupNotification","inventoryItemNotification","email","regex","test","validatePhone","sdt","class","_createElementBlock","$setup","_createElementVNode","required","$props","_toDisplayString","disabled","ref","type","$event","placeholder","tabindex","onInput","onBlur","style","left","props","emits","setup","context","tagInput","focus","isEmail","isPhone","maxLength","modelValue","isNumber","maxValue","toRefs","isValid","isValidEmailPhone","validate","valueHeader","handleInput","value","target","updateValue","trim","number","CommaToNumber","checkNumber","data","Comma","Number","emit","intPart","Math","trunc","floatPart","toFixed","mod","output","substring","i","floor","slice","ToNumber","replace","handleCheckEmailPhone","n","isNaN","parseFloat","watch","newValue","onBeforeMount","onMounted","setTimeout","__exports__","render","_hoisted_6","onClick","_createVNode","_component_input_default","messageValid","label","commodityCode","commodityName","_component_base_combobox","widthLabelCode","options","header","labelCode","labelName","headerCode","parentID","components","InputDefault","BaseCombobox","recordEdit","Object","recordAdd","apiCommodityGroup","titleForm","notificationMessage","inputFocus","focusLoop","stateAdd","store","useStore","TypeSuccess","MessageSuccessAdd","MessageSuccessEdit","AddFormCommodityGroup","EditFormCommodityGroup","commodityGroup","isActive","recordEditReset","commodityGroupReset","optionCommodityGroup","listToTree","index","async","callApi","response","handleLoopFocus","eventFormCtrlShiftS","handleKey","handleCloseModal","handleSaveData","e","console","log","validateInput","item","addEventListener","window","onUnmounted","removeEventListener","errorApi","callApiForm","Api","dispatch","message","find","state","recordList","totalCount","closeModal","messValid","handleCloseNotificationAndCloseModal","handleSaveDataAndCloseNotificationAndCloseModal","closeNow","JSON","stringify","saveDataWhenCloseModal","action","refuseAction"],"sourceRoot":""}