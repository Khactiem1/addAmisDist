"use strict";(self["webpackChunkquanlynhanvien_amis_ketoan"]=self["webpackChunkquanlynhanvien_amis_ketoan"]||[]).push([[776],{4930:function(e,l){const a=[],t=(e,l,t)=>{a.forEach((e=>{clearTimeout(e)})),a.length=0,a.push(setTimeout((()=>{l(t)}),e))};l["Z"]=t},2325:function(e,l){const a=()=>{const e=localStorage.getItem("countRecordPageRecord");return e?Number(e):(localStorage.setItem("countRecordPageRecord",20),20)},t=e=>{localStorage.setItem("countRecordPageRecord",e)},o=e=>{if(null===e|""==e)return null;{const l=new Date(e);let a=l.getMonth()+1+"";1===a.length&&(a=`0${a}`);let t=l.getDate()+"";return 1===t.length&&(t=`0${t}`),[t,a,l.getFullYear()].join("/")}},n=e=>{if(null===e|""==e)return null;{const l=new Date(e);let a=l.getMonth()+1+"";1===a.length&&(a=`0${a}`);let t=l.getDate()+"";return 1===t.length&&(t=`0${t}`),[l.getFullYear(),a,t].join("-")}},u=e=>{if(e||0===e){let t=Math.trunc(e);const o=Number((e-t).toFixed(10));if(t=""+t,t.length>3){var l=t.length%3,a=l>0?t.substring(0,l):"";for(let e=0;e<Math.floor(t.length/3);e++)a+=0==l&&0==e?t.substring(l+3*e,l+3*e+3):"."+t.substring(l+3*e,l+3*e+3);return 0!==o?a+","+(o+"").slice(2):a}return 0!==o?t+","+(o+"").slice(2):t}return""},i=(e,l)=>{e=e.sort((function(){return-1}));const a=[];function t(o,n=""){for(let u=e.length-1;u>=0;u--)e[u].parentID==o&&(e[u].bindHTMLChild=n,a.push(e[u]),t(e[u][l],n+"&ensp;"))}return t("0"),e.forEach((e=>{let t=!1;a.forEach((a=>{e[l]===a[l]&&(t=!0)})),!1===t&&a.push(e)})),a};l["Z"]={getCountRecordPageRecord:a,setCountRecordPageRecord:t,formatDateDDMMYYYY:o,formatDateYYYYMMDD:n,listToTree:i,Comma:u}},5257:function(e,l,a){a.d(l,{Z:function(){return V}});var t=a(3396),o=a(7139),n=a(9242);const u=e=>((0,t.dD)("data-v-3800dd74"),e=e(),(0,t.Cn)(),e),i={key:1,class:"tool-tip"},c={key:0,class:"select-multiple_list"},v={class:"selected-text"},s=["onClick"],d=["placeholder","value","readonly","tabindex"],r=u((()=>(0,t._)("div",{class:"select_icon-combobox"},null,-1))),p=[r],h=u((()=>(0,t._)("div",{class:"select_icon-add"},null,-1))),g=[h],f={key:0,class:"combobox-labelName"},m={class:"label-item label-name"},b={key:1,class:"combobox-combobox_item"},w=["onClick"],C=["innerHTML"],k={class:"label-item label-name"};function y(e,l,a,u,r,h){return(0,t.wg)(),(0,t.iD)("div",{ref:"template",class:(0,o.C_)(["data-input",{"is-valid":u.isValid}])},[a.label?((0,t.wg)(),(0,t.iD)("label",{key:0,class:(0,o.C_)({required:a.required})},(0,o.zw)(a.label),3)):(0,t.kq)("",!0),a.toolTip?((0,t.wg)(),(0,t.iD)("span",i,(0,o.zw)(a.toolTip),1)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,o.C_)(["combobox-select",{active:a.noAnimation?u.isShow:u.isShowAnimation,"add-icon":a.addIcon}])},[a.selectMultiple&&a.modelValue.length>0?((0,t.wg)(),(0,t.iD)("div",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.modelValue,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"selected-item",key:l},[(0,t._)("div",v,(0,o.zw)(a.options.find((l=>l[a.value]===e))[a.headerSelectMultiple]),1),(0,t._)("div",{class:"selected-icon",onClick:l=>{u.preventClose(l),u.handleSaveData(e)}},null,8,s)])))),128))])):(0,t.kq)("",!0),(0,t._)("input",{ref:"input",placeholder:a.placeholder,onFocus:l[0]||(l[0]=(...e)=>u.handleFocusInput&&u.handleFocusInput(...e)),class:"input",value:u.inputEvent,onInput:l[1]||(l[1]=(...e)=>u.handleInput&&u.handleInput(...e)),onBlur:l[2]||(l[2]=(...e)=>u.handleBlur&&u.handleBlur(...e)),type:"text",readonly:a.disabled,tabindex:a.tab},null,40,d),(0,t._)("div",{class:"combobox-select_icon",onClick:l[3]||(l[3]=(...e)=>u.handleClickOpenCombobox&&u.handleClickOpenCombobox(...e))},p),a.addIcon?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"icon-add",onClick:l[4]||(l[4]=e=>a.handleAddIcon())},g)):(0,t.kq)("",!0),(0,t.wy)((0,t._)("div",{class:"combobox-combobox_select",style:(0,o.j5)({width:a.widthOptionSelect})},[a.labelCode&&a.labelName?((0,t.wg)(),(0,t.iD)("div",f,[a.labelCode?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"label-item label-code",style:(0,o.j5)({width:a.widthLabelCode})},(0,o.zw)(a.labelCode),5)):(0,t.kq)("",!0),(0,t._)("div",m,(0,o.zw)(a.labelName),1)])):(0,t.kq)("",!0),0===u.optionValue.length?((0,t.wg)(),(0,t.iD)("div",b," Danh sách trống ")):(0,t.kq)("",!0),(0,t._)("div",{ref:"listSelect",class:(0,o.C_)(["combobox-combobox_select-content",{"select-multiple":a.selectMultiple}])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.optionValue,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["combobox-combobox_item",{active:u.valueClick===e[a.value]&&!a.selectMultiple||a.selectMultiple&&a.modelValue.includes(e[a.value]),hover:u.valueClick==e[a.value]&&a.selectMultiple}]),key:l,onClick:l=>u.handleClickItem(e[a.value])},[a.labelCode?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"label-item label-code",style:(0,o.j5)({width:a.widthLabelCode})},[(0,t._)("span",{innerHTML:e.bindHTMLChild},null,8,C),(0,t.Uk)(" "+(0,o.zw)(e[a.headerCode]),1)],4)):(0,t.kq)("",!0),(0,t._)("div",k,(0,o.zw)(e[a.header]),1)],10,w)))),128))],2)],4),[[n.F8,u.isShow]])],2),(0,t._)("span",{class:"message-valid",style:(0,o.j5)({left:a.leftMessage})},(0,o.zw)(a.messageValid),5)],2)}var _=a(4870),D=a(4930),S=a(177);const x={props:{widthOptionSelect:{},modelValue:{},value:{type:String},header:{type:String},headerCode:{type:String},defaultValue:{},label:{type:String},labelCode:{type:String},widthLabelCode:{},labelName:{type:String},options:{type:Array,default:()=>[]},placeholder:{String:String},required:{},tab:{},messageValid:{},noAnimation:{},disabled:{},toolTip:{},addIcon:{},leftMessage:{},handleAddIcon:{},selectMultiple:{},headerSelectMultiple:{},autoPosition:{}},setup(e,l){const{options:a,header:o,modelValue:n,defaultValue:u,value:i,noAnimation:c,required:v,headerCode:s,selectMultiple:d,autoPosition:r}=(0,_.BK)(e),p=(0,_.iH)(null),{UP:h,DOWN:g,ENTER:f,TAB:m,BACK:b}=S.Z,w=(0,_.iH)(null),C=(0,_.iH)(!1),k=(0,_.iH)(!1),y=(0,_.iH)(!1),x=(0,_.iH)(null),M=(0,_.iH)(null),T=(0,_.iH)(null),I=(0,_.iH)({top:"calc(100% + 3px)"});function H(e){e.stopPropagation()}(0,t.YP)(k,(e=>{e&&T.value&&setTimeout((()=>{let e=0;a.value.forEach(((l,a)=>{l[i.value]!==T.value||(e=a)}));const l=w.value.children[e].offsetTop;w.value.scrollTop=l-34}),0)})),(0,t.YP)(n,(()=>{if(d.value)N.value="",T.value=null;else{let e=!1;a.value.forEach((l=>{if(l[i.value]===n.value)return N.value=l[o.value],T.value=l[i.value],void(e=!0)})),!1===e&&(N.value="",T.value=null),v.value&&(C.value=!1),n.value||0===n.value?l.emit("update:textField",a.value.find((e=>e[i.value]===n.value))[o.value]):l.emit("update:textField","")}})),(0,t.YP)(a,(()=>{p.value=[...a.value]}));const L=function(e){e.keyCode===h?V(e):e.keyCode===g?E(e):e.keyCode===b?Y(e):e.keyCode!==f&&e.keyCode!==m||(q(T.value,!0),K())};function V(){if(p.value.length>0)if(!T.value&&""!==T.value&&0!==T.value&&p.value)T.value=p.value[0][i.value],N.value=p.value[0][o.value];else for(let e=0;e<p.value.length;e++)if(p.value[e][i.value]===T.value&&e>0){const l=e-1;N.value=p.value[l][o.value],T.value=p.value[l][i.value];const a=w.value.children[e-1].offsetTop;w.value.scrollTop=a-34;break}}function E(){if(p.value.length>0)if(!T.value&&""!==T.value&&0!==T.value&&p.value)T.value=p.value[0][i.value],N.value=p.value[0][o.value];else for(let e=0;e<p.value.length;e++)if(p.value[e][i.value]===T.value&&e<p.value.length-1){const l=e+1;N.value=p.value[l][o.value],T.value=p.value[l][i.value];const a=w.value.children[e+1].offsetTop;w.value.scrollTop=a-34;break}}function Y(){if(""===M.value.value&&d.value&&n.value.length>0){const e=[...n.value];e.pop(),l.emit("update:modelValue",e)}}function q(e,a){try{if(d.value){if(e){const t=[...n.value],o=n.value.findIndex((l=>l===e));-1===o?t.push(e):a||t.splice(o,1),l.emit("update:modelValue",t)}}else l.emit("update:modelValue",e)}catch(t){console.log(t)}}function R(){q(T.value)}const P=function(){const e=x.value.contains(event.target);e||k.value&&K()};function A(e){q(e);try{T.value=e,d.value||K()}catch(l){console.log(l)}}function F(){try{k.value||($(),K())}catch(e){console.log(e)}}const B=(0,_.iH)(null),N=(0,_.iH)(""),z=e=>{N.value=e.target.value,(0,D.Z)(50,j,e)};function j(e){if(p.value.length>0)if(""===e.target.value.trim())B.value=null,T.value=null;else if(" "!=e.data){let l={...p.value.find((l=>l[o.value].toLowerCase().trim().includes(e.target.value.toLowerCase().trim())))};"{}"===JSON.stringify(l)&&s.value&&(l={...p.value.find((l=>l[s.value].toLowerCase().trim().includes(e.target.value.toLowerCase().trim())))}),B.value={...l},B.value[i.value]&&(p.value=[B.value,...p.value.filter((e=>e[i.value]!=B.value[i.value]))]),T.value=B.value[i.value];const a=w.value.children[0].offsetTop;w.value.scrollTop=a-34}}function O(e){try{z(e,k.value),k.value||($(),K())}catch(l){console.log(l)}}function Z(){try{k.value||$(),K(),k.value&&M.value.focus()}catch(e){console.log(e)}}function $(){r.value&&(p.value.length<=5?window.innerHeight-(M.value.getBoundingClientRect().bottom+30)<32*p.value.length+8?I.value.top=`-${100*p.value.length+60}%`:I.value.top="calc(100% + 3px)":window.innerHeight-(M.value.getBoundingClientRect().bottom+30)<168?I.value.top="-560%":I.value.top="calc(100% + 3px)")}function K(){k.value=!k.value,c.value||setTimeout((()=>{y.value=!y.value}),0),k.value?window.addEventListener("keydown",L):(window.removeEventListener("keydown",L),p.value=[...a.value])}return(0,t.wF)((()=>{a.value.forEach((e=>{if(e[i.value]===n.value||e[i.value]===u.value)return N.value=e[o.value],void(T.value=e[i.value])})),p.value=[...a.value]})),(0,t.bv)((()=>window.addEventListener("click",P))),(0,t.Ah)((()=>{window.removeEventListener("click",P),window.removeEventListener("keydown",L)})),{input:M,isShow:k,isShowAnimation:y,isValid:C,template:x,optionValue:p,listSelect:w,inputEvent:N,positionListSelect:I,valueClick:T,preventClose:H,handleFocusInput:F,handleClickItem:A,handleInput:O,handleClickOpenCombobox:Z,handleBlur:R,handleSaveData:q}}},M=()=>{(0,n.sj)((e=>({b86d53bc:e.positionListSelect.top})))},T=x.setup;x.setup=T?(e,l)=>(M(),T(e,l)):M;var I=x,H=a(89);const L=(0,H.Z)(I,[["render",y],["__scopeId","data-v-3800dd74"]]);var V=L}}]);
//# sourceMappingURL=776.fb2640b4.js.map