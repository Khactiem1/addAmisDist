"use strict";(self["webpackChunkquanlynhanvien_amis_ketoan"]=self["webpackChunkquanlynhanvien_amis_ketoan"]||[]).push([[330],{9579:function(e,t,a){a.d(t,{Z:function(){return b}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-6caa8ee8"),e=e(),(0,l.Cn)(),e),i={class:"form-key-search"},c=["onClick"],s=o((()=>(0,l._)("span",null,"Xoá điều kiện lọc",-1))),d=[s];function r(e,t,a,o,s,r){return(0,l.wg)(),(0,l.iD)("div",i,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.dataBindFilter,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"filter-item",key:t},[(0,l._)("span",null,(0,n.zw)(e.labelSearch)+": "+(0,n.zw)("date"===e.typeSearch?o.utilEnum.formatDateDDMMYYYY(e.headerSearch):e.headerSearch),1),(0,l._)("div",{onClick:t=>o.handleDeleteFilterItem(e.columnSearch),class:"delete-filter-icon"},null,8,c)])))),128)),o.dataBindFilter.length>0?((0,l.wg)(),(0,l.iD)("div",{key:0,onClick:t[0]||(t[0]=e=>o.handleDeleteFilterItem()),class:"filter-item delete-filter-item"},d)):(0,l.kq)("",!0)])}var u=a(4870),h=a(65),v=a(2325),g={props:{moduleFilter:{String:String},loadData:{Function:Function}},setup(e){const{loadData:t,moduleFilter:a}=(0,u.BK)(e),n=(0,h.oR)(),o=(0,l.Fl)((()=>n.state[a.value].filter.customSearch.filter((e=>e.valueSearch||0===e.valueSearch||"!=Null"===e.comparisonType||"=Null"===e.comparisonType))));function i(e){try{e?(n.dispatch(`${a.value}/setFilterCustomSearchDropAction`,e),t.value({resetPage:!0})):(n.dispatch(`${a.value}/setFilterCustomSearchEmptyAction`),t.value({resetPage:!0}))}catch(l){console.log(l)}}return{utilEnum:v.Z,dataBindFilter:o,handleDeleteFilterItem:i}}},m=a(89);const p=(0,m.Z)(g,[["render",r],["__scopeId","data-v-6caa8ee8"]]);var b=p},1816:function(e,t,a){a.d(t,{Z:function(){return S}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-6c88bab0"),e=e(),(0,l.Cn)(),e),i=o((()=>(0,l._)("div",{class:"modal-overlay"},null,-1))),c={class:"modal-body modal-setting_container"},s={class:"modal-setting_content"},d={class:"setting-header"},r=o((()=>(0,l._)("h1",null,"Tuỳ chỉnh giao diện",-1))),u={class:"setting-content"},h=o((()=>(0,l._)("div",{class:"setting-name setting-header_name"},[(0,l._)("div",{class:"info-setting"},"Tên cột dữ liệu")],-1))),v={class:"info-setting"},g={class:"setting-footer"};function m(e,t,a,o,m,p){const b=(0,l.up)("input-checkbox");return(0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)(["modal modal-setting",{active:o.isShowSettingTableAnimation}])},[i,(0,l._)("div",c,[(0,l._)("div",s,[(0,l._)("div",d,[r,(0,l._)("div",{class:"setting-header_icon",onClick:t[0]||(t[0]=e=>a.handleShowSettingTable())})]),(0,l._)("div",u,[h,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.columns,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"setting-name",key:t},[(0,l.Wm)(b,{onCustomHandleClickCheckbox:e=>a.handleClickCheckbox(t),checked:e.isShow},null,8,["onCustomHandleClickCheckbox","checked"]),(0,l._)("div",v,(0,n.zw)(e.header),1)])))),128))]),(0,l._)("div",g,[(0,l._)("button",{onClick:t[1]||(t[1]=e=>a.handleShowSettingTable()),class:"btn"},"Đóng"),(0,l._)("button",{onClick:t[2]||(t[2]=e=>a.handleShowSettingTable()),class:"btn btn-success"}," Xong ")])])])],2)}var p=a(9447),b=a(177),k=a(4870),_={props:{columns:{type:Array},handleShowSettingTable:{type:Function},handleClickCheckbox:{type:Function}},components:{InputCheckbox:p.Z},setup(e){const{handleShowSettingTable:t}=(0,k.BK)(e),a=(0,k.iH)(!1),{ESC:n}=b.Z,o=function(e){e.keyCode===n&&t.value()};return(0,l.bv)((()=>{window.addEventListener("keydown",o),setTimeout((()=>{a.value=!0}),0)})),(0,l.Ah)((()=>{window.removeEventListener("keydown",o)})),{isShowSettingTableAnimation:a}}},w=a(89);const f=(0,w.Z)(_,[["render",m],["__scopeId","data-v-6c88bab0"]]);var S=f},8247:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});var l=a(3396),n=a(9242),o=a(7139);const i=e=>((0,l.dD)("data-v-38c7ad6e"),e=e(),(0,l.Cn)(),e),c={class:"container-table"},s={class:"container-table_header"},d=i((()=>(0,l._)("div",{class:"name-table"},[(0,l._)("h1",null,"Nhân viên")],-1))),r={class:"action-table"},u={class:"table-content"},h={class:"table-function sticky"},v={class:"form-fix"},g=i((()=>(0,l._)("span",null,"Thực hiện hàng loạt",-1))),m=i((()=>(0,l._)("div",{class:"table-function_series-icon"},null,-1))),p={class:"table-list_action"},b={style:{"min-width":"350px"},class:"table-function_search"},k={class:"search-table"},_=i((()=>(0,l._)("div",{class:"icon-search"},null,-1))),w=["href"],f={class:"table-scroll"},S={class:"table-container"},y={key:0,class:"paging-container sticky"},C={class:"total-record"},A=(0,l.Uk)(" Tổng số: "),T=(0,l.Uk)(" bản ghi "),D={class:"paging"};function L(e,t,a,i,L,E){const R=(0,l.up)("base-form-key-search"),F=(0,l.up)("table-data"),Z=(0,l.up)("input-combobox"),P=(0,l.up)("paging-page"),x=(0,l.up)("form-employee"),H=(0,l.up)("modal-form"),I=(0,l.up)("setting-table");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",s,[d,(0,l._)("div",r,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>i.handleOpenModal(!0)),class:"btn btn-success btn-add"}," Thêm một nhân viên ")])]),(0,l._)("div",u,[(0,l._)("div",h,[(0,l._)("div",v,[(0,l._)("div",{ref:"templateActionAll",onClick:t[2]||(t[2]=(...e)=>i.handleToggleActionAll&&i.handleToggleActionAll(...e)),class:"table-function_series"},[g,m,(0,l.wy)((0,l._)("div",p,[(0,l._)("div",{class:"list_action-item",onClick:t[1]||(t[1]=e=>i.handleDeleteAll())},"Xoá")],512),[[n.F8,i.showActionAll&&i.checkShowActionSeries.length>0]])],512),(0,l.Wm)(R,{loadData:i.loadData,moduleFilter:"employee"},null,8,["loadData"])]),(0,l._)("div",b,[(0,l._)("div",k,[(0,l._)("input",{class:"input input-table_search",type:"text",onInput:t[3]||(t[3]=(...e)=>i.handleSearchData&&i.handleSearchData(...e)),placeholder:"Tìm theo mã, tên nhân viên"},null,32),_]),(0,l._)("div",{onClick:t[4]||(t[4]=e=>i.loadData({v_Offset:i.recordSelectPaging,v_Limit:i.countRecordPageRecord,v_Where:i.keyword})),class:"action-render_table reload-table"}),(0,l._)("a",{target:"_blank",href:i.configs.baseUrl+"/Employees/export_data?keyword="+i.keyword,class:"action-render_table export-data"},null,8,w),(0,l._)("div",{onClick:t[5]||(t[5]=(...e)=>i.handleShowSettingTable&&i.handleShowSettingTable(...e)),class:"action-render_table setting-table"})])]),(0,l._)("div",f,[(0,l._)("div",S,[(0,l.Wm)(F,{tableList:i.recordList,handleClickCheckbox:i.handleClickCheckbox,columns:i.columns,actionTable:i.actionTable,handleClickActionColumTable:i.handleClickActionColumTable,isShowLoaderTable:i.isShowLoaderTable,checkShowActionSeries:i.checkShowActionSeries,loadData:i.loadData,module:"employee"},null,8,["tableList","handleClickCheckbox","columns","actionTable","handleClickActionColumTable","isShowLoaderTable","checkShowActionSeries","loadData"])])]),0!==i.recordList.length?((0,l.wg)(),(0,l.iD)("div",y,[(0,l._)("div",C,[A,(0,l._)("strong",null,(0,o.zw)(i.totalCount),1),T]),(0,l._)("div",D,[(0,l.Wm)(Z,{options:[{value:10,header:"10 bản ghi trên 1 trang"},{value:20,header:"20 bản ghi trên 1 trang"},{value:30,header:"30 bản ghi trên 1 trang"},{value:50,header:"50 bản ghi trên 1 trang"},{value:100,header:"100 bản ghi trên 1 trang"}],disabled:!0,value:"value",header:"header",noAnimation:!0,modelValue:i.countRecordPageRecord,"onUpdate:modelValue":t[6]||(t[6]=e=>i.countRecordPageRecord=e),autoPosition:!0},null,8,["modelValue"]),((0,l.wg)(),(0,l.j4)(P,{totalCount:i.totalCount,countRecordPageRecord:i.countRecordPageRecord,modelValue:i.recordSelectPaging,"onUpdate:modelValue":t[7]||(t[7]=e=>i.recordSelectPaging=e),key:i.countRecordPageRecord||i.keyword},null,8,["totalCount","countRecordPageRecord","modelValue"]))])])):(0,l.kq)("",!0)]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#app"},[i.isShowModal?((0,l.wg)(),(0,l.j4)(H,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{onHandleClickCloseModal:i.handleCloseModal,recordEdit:i.recordEdit,recordAdd:i.recordAdd},null,8,["onHandleClickCloseModal","recordEdit","recordAdd"])])),_:1})):(0,l.kq)("",!0),i.isShowSettingTable?((0,l.wg)(),(0,l.j4)(I,{key:1,columns:i.columnSetting,handleShowSettingTable:i.handleShowSettingTable,handleClickCheckbox:i.handleClickToggleSettingTable},null,8,["columns","handleShowSettingTable","handleClickCheckbox"])):(0,l.kq)("",!0)]))])}var E=a(3403),R=a(6654),F=a(1816),Z=a(9579),P=a(8334),x=a(8703),H=a(9121),I=a(4930),W=a(5257),N=a(4870),M=a(65),O=a(9468),Y=a(8410),B=a(2325),U=a(6730),q=a(177),V=a(7794),K=a(8687),j={components:{TableData:E.Z,ModalForm:P.Z,InputCombobox:W.Z,FormEmployee:x["default"],BaseFormKeySearch:Z.Z,SettingTable:F.Z,PagingPage:R.Z},setup(){const{getRecordList:e,getRecordApi:t,deleteRecordApi:a,deleteMultipleApi:n,toggleActiveApi:o}=K.Z,{TypeSuccess:i,MessageSuccessDelete:c}=q.Z,{getCountRecordPageRecord:s,setCountRecordPageRecord:d}=B.Z,{EDIT:r,DELETE:u,REPLICATION:h,STOP_USING:v}=O.Z,{WANNING_DELETE:g,WANNING_DELETE_ALL:m}=Y.Z,p=(0,M.oR)(),b=(0,l.Fl)((()=>p.state.employee.recordList)),k=(0,l.Fl)((()=>p.state.employee.totalCount)),_=(0,l.Fl)((()=>p.state.employee.recordCheck)),w=(0,l.Fl)((()=>p.state.employee.columns.filter((function(e){return e.isShow})))),f=(0,l.Fl)((()=>p.state.employee.columns)),S=(0,l.Fl)((()=>p.state.employee.actionTable)),y=(0,N.iH)(null),C=(0,N.iH)(null),A=(0,N.iH)(!1),T=(0,N.iH)(!1),D=(0,N.iH)(!1),L=(0,N.iH)(s()),E=(0,N.iH)(0),R=(0,N.iH)("");async function F(t){t&&t.resetPage&&(E.value=0,t.v_Offset=E.value),t&&(!0!==t&&await p.dispatch("employee/setFilterAction",t),T.value=!0);const a=p.state.employee.filter;await(0,V.Z)(e,a,(e=>{p.dispatch("employee/getRecordListAction",e)}),p,!0),t&&(T.value=!1)}function Z(){try{p.dispatch("config/setToggleShowNotificationWanningAction",{action:j,message:m})}catch(e){console.log(e)}}function P(){D.value=!D.value}function x(e){try{p.dispatch("employee/setToggleShowColumnTableAction",e)}catch(t){console.log(t)}}async function W(e){await(0,V.Z)(a,e,(async()=>{p.dispatch("config/addNotification",{type:i,message:c}),await p.dispatch("employee/setCheckboxUnCheckRecordAction",e),0===b.value.length&&(E.value=0,F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value}))}),p)}async function j(){await(0,V.Z)(n,_.value,(async()=>{p.dispatch("employee/setEmptyCheckBoxRecordAction"),await p.dispatch("config/addNotification",{type:i,message:c}),0===b.value.length&&(E.value=0,F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value}))}),p)}async function z(e,t,a){try{e==r?X(t):e==u?$(t,a):e==h?J(t):e===v&&G(t)}catch(l){console.log(l)}}async function G(e){await(0,V.Z)(o,e,(()=>{p.dispatch("employee/setToggleActiveAction",e)}),p,!0)}async function X(e){await(0,V.Z)(t,e,(e=>{y.value=e,ae(r)}),p)}async function $(e,t){p.dispatch("config/setToggleShowNotificationWanningAction",{action:W,message:g+`<${t}> không?`,id:e})}async function J(e){await(0,V.Z)(t,e,(async e=>{C.value={...e},ae(h)}),p)}function Q(e,t){!0===e?p.dispatch("employee/setAllCheckboxRecordAction",t):p.dispatch("employee/setCheckboxRecordAction",e)}function ee(e){(0,I.Z)(600,te,e)}function te(e){R.value=e.target.value,E.value=0,F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value})}function ae(e){try{!0===e?(y.value=null,C.value=null):e===r?C.value=null:e===h&&(y.value=null),A.value=!A.value}catch(t){console.log(t)}}function le(){A.value=!A.value}(0,l.YP)(L,(e=>{d(e),E.value=0,F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value})})),(0,l.YP)(E,(()=>{F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value})})),(0,l.wF)((()=>{F({v_Offset:E.value,v_Limit:L.value,v_Where:R.value})}));const ne=(0,N.iH)(!1),oe=(0,N.iH)(null),ie=()=>{const e=oe.value.contains(event.target);e||ce()};function ce(){try{!ne.value&&_.value.length>0?(ne.value=!0,window.addEventListener("click",ie)):(window.removeEventListener("click",ie),ne.value=!1)}catch(e){console.log(e)}}(0,l.Ah)((()=>window.removeEventListener("click",ie)));const{handleEventCtrlAltA:se,handleEventInterruptCtrlAltA:de}=H.Z;function re(e){se(e,ae,!0)}return(0,l.bv)((()=>window.addEventListener("keydown",re))),(0,l.bv)((()=>window.addEventListener("keyup",de))),(0,l.Ah)((()=>window.removeEventListener("keydown",re))),(0,l.Ah)((()=>window.removeEventListener("keyup",de))),{recordList:b,totalCount:k,columns:w,actionTable:S,isShowModal:A,templateActionAll:oe,countRecordPageRecord:L,recordEdit:y,recordAdd:C,columnSetting:f,isShowLoaderTable:T,isShowSettingTable:D,recordSelectPaging:E,checkShowActionSeries:_,keyword:R,configs:U.Z,showActionAll:ne,handleShowSettingTable:P,handleDeleteAll:Z,handleClickToggleSettingTable:x,handleOpenModal:ae,handleClickCheckbox:Q,handleCloseModal:le,handleClickActionColumTable:z,handleSearchData:ee,handleToggleActionAll:ce,loadData:F}}},z=a(89);const G=(0,z.Z)(j,[["render",L],["__scopeId","data-v-38c7ad6e"]]);var X=G}}]);
//# sourceMappingURL=330.85d82d44.js.map